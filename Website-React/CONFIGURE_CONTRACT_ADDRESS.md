# 🔧 配置合约地址

## 📋 快速配置步骤

### 方法 1：从部署页面获取（推荐）

1. **访问部署页面**
   - 打开 `/deploy` 页面
   - 如果已经部署过合约，会显示合约地址

2. **复制合约地址**
   - 点击"📋 复制"按钮
   - 或手动复制显示的合约地址

3. **更新环境变量**
   - 打开 `Website-React/.env.local` 文件（如果不存在则创建）
   - 添加以下内容：
     ```
     VITE_NFT_CONTRACT_ADDRESS=0x你的完整合约地址
     ```
   - 保存文件

4. **重启开发服务器**
   - 停止当前服务器（Ctrl+C）
   - 重新运行 `npm run dev`

### 方法 2：手动创建配置文件

1. **创建 `.env.local` 文件**
   ```bash
   cd Website-React
   touch .env.local
   ```

2. **编辑文件**
   ```bash
   nano .env.local
   # 或使用你喜欢的编辑器
   ```

3. **添加合约地址**
   ```
   VITE_NFT_CONTRACT_ADDRESS=0x你的完整合约地址
   ```

4. **保存并重启服务器**

## 🔍 如何获取合约地址

### 从部署页面
- 访问 `/deploy` 页面
- 查看"已配置合约地址"部分

### 从区块链浏览器
- 打开你使用的区块链浏览器（Tenderly Dashboard）
- 找到你的部署交易
- 在交易详情中查看"To"地址（Contract creation）

### 从 localStorage
- 打开浏览器控制台（F12）
- 运行：`localStorage.getItem('nft_contract_address')`
- 复制显示的地址

## ⚠️ 注意事项

1. **地址格式**
   - 必须以 `0x` 开头
   - 总共 42 个字符（0x + 40 个十六进制字符）
   - 例如：`0x1234567890123456789012345678901234567890`

2. **文件位置**
   - 文件必须在 `Website-React/` 目录下
   - 文件名必须是 `.env.local`（注意前面的点）

3. **重启服务器**
   - 修改环境变量后必须重启开发服务器
   - 否则更改不会生效

## 📝 完整示例

`.env.local` 文件内容示例：

```env
# NFT 合约地址
VITE_NFT_CONTRACT_ADDRESS=0x0eea72d56832...

# Pinata 配置（如果需要）
VITE_PINATA_JWT=your_jwt_token_here
```

## ✅ 验证配置

配置完成后，检查是否生效：

1. **重启开发服务器**
2. **访问商品列表页面**
3. **查看控制台**
   - 打开浏览器控制台（F12）
   - 应该没有"合约地址未配置"的错误

## 🆘 如果仍然报错

1. **检查文件路径**
   - 确保 `.env.local` 在 `Website-React/` 目录下
   - 不是 `Website-React/src/` 或其他位置

2. **检查地址格式**
   - 确保地址以 `0x` 开头
   - 确保地址长度为 42 个字符

3. **检查服务器重启**
   - 确保已经重启了开发服务器
   - Vite 需要重启才能读取新的环境变量

4. **清除缓存**
   - 清除浏览器缓存
   - 或使用无痕模式测试

